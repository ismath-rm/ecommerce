{% extends 'user/base.html' %}
{% load static %}
{% block title %} SignUp {% endblock %}
{% block  body %}
<section class="pt-150 pb-150">
    <div class="container">
        <div class="row">
            <div class="col-lg-10 m-auto">
                <div class="row">
                    <div class="col-lg-5">
                        <div class="login_wrap widget-taber-content p-30 background-white border-radius-5">
                            <div class="padding_eight_all bg-white">
                                <div class="heading_s1">
                                    <h3 class="mb-30">Create an Account</h3>
                                </div>
                                <p class="mb-50 font-sm">
                                    Your personal data will be used to support your experience throughout this website, to manage access to your account, and for other purposes described in our privacy policy
                                </p>
                                <div id="error-container" class="error-container"></div>

                                {% comment %} <div class="form-group">
                                    {% for message in messages %}
                                    <div class="alert alert-danger" role="alert">
                                        {{message}}
                                    </div>
                                    {% endfor %}
                                </div> {% endcomment %}
                                <form method="post"  >
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <input type="text" required="" name="username" placeholder="Username">
                                    </div>
                                    <div class="form-group">
                                        <input type="text" required="" name="email" placeholder="Email">
                                    </div>
                                    <div class="form-group">
                                        <input required="" type="password" name="password1" placeholder="Password">
                                    </div>
                                    <div class="form-group">
                                        <input required="" type="password" name="password2" placeholder="Confirm password">
                                    </div>
                                    <div class="login_footer form-group">
                                        <div class="chek-form">
                                            <div class="custome-checkbox">
                                                <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox12" value="">
                                                <label class="form-check-label" for="exampleCheckbox12"><span>I agree to terms &amp; Policy.</span></label>
                                            </div>
                                        </div>
                                        <a href="page-privacy-policy.html"><i class="fi-rs-book-alt mr-5 text-muted"></i>Lean more</a>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-fill-out btn-block hover-up" name="login">Submit &amp; Register</button>
                                    </div>
                                </form>
                                {% comment %} <div class="divider-text-center mt-15 mb-15">
                                    <span> or</span>
                                </div>
                                <ul class="btn-login list_none text-center mb-15">
                                    <li><a href="#" class="btn btn-google hover-up">Login With Google</a></li>
                                </ul> {% endcomment %}
                                <!-- <div class="text-muted text-center">Already have an account? <a href="{% url 'log:user_login' %}">Sign in now</a></div> -->
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1"></div>
                    <div class="col-lg-6">

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    function check() {
        var form = document.querySelector('form');

        var username = form.querySelector('input[name="username"]').value.trim();
        var email = form.querySelector('input[name="email"]').value.trim();
        var password1 = form.querySelector('input[name="password1"]').value;
        var password2 = form.querySelector('input[name="password2"]').value;
        var checkbox = form.querySelector('input[name="checkbox"]').checked;

        clearErrors();

        // Validate username
        if (!isValidUsername(username)) {
            showError('Username should not contain invalid characters');
            return false;
        }

        // Validate email
        if (!isValidEmail(email)) {
            showError('Please enter a valid email address');
            return false;
        }

        // Validate password
        if (password1 === '' || password1.length < 8) {
            showError('Password must be at least 8 characters long');
            return false;
        }

        // Confirm password
        if (password1 !== password2) {
            showError('Passwords do not match');
            return false;
        }

        // Validate checkbox
        if (!checkbox) {
            showError('Please agree to the terms & policy');
            return false;
        }

        // If all validations pass, return true
        return true;
    }

    function isValidUsername(username) {
        // Add your custom validation logic for the username
        // For example, allow only alphanumeric characters and underscores
        var regex = /^[a-zA-Z0-9_]+$/;
        return regex.test(username);
    }

    function isValidEmail(email) {
        // Use a simple email validation regex
        var regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
    }

    function showError(message) {
        // Display error message in a p tag
        var errorContainer = document.createElement('p');
        errorContainer.textContent = message;
        errorContainer.classList.add('error-message');
        form.appendChild(errorContainer);
    }

    function clearErrors() {
        // Clear all error messages
        var errorMessages = form.querySelectorAll('.error-message');
        errorMessages.forEach(function (error) {
            error.remove();
        });
    }
</script>


 <!-- <script>
    document.addEventListener('DOMContentLoaded', function () {
        var form = document.querySelector('form');

        form.addEventListener('submit', function (event) {
            console.log('Form submit event triggered');

            var username = form.querySelector('input[name="username"]').value.trim();
            var email = form.querySelector('input[name="email"]').value.trim();
            var password1 = form.querySelector('input[name="password1"]').value;
            var password2 = form.querySelector('input[name="password2"]').value;
            var checkbox = form.querySelector('input[name="checkbox"]').checked;

            // Validate username
            console.log('Before username validation');
            if (username === '') {
                showError('Username cannot be empty');
                event.preventDefault();
                return;
            }
            console.log('After username validation');

            // Validate email
            console.log('Before email validation');
            if (email === '') {
                showError('Email cannot be empty');
                event.preventDefault();
                return;
            }
            console.log('After email validation');

            // Validate password
            console.log('Before password validation');
            if (password1 === '') {
                showError('Password cannot be empty');
                event.preventDefault();
                return;
            } else if (password1.length < 8) {
                showError('Password must be at least 8 characters long');
                event.preventDefault();
                return;
            }
            console.log('After password validation');

            // Confirm password
            console.log('Before password confirmation');
            if (password1 !== password2) {
                showError('Passwords do not match');
                event.preventDefault();
                return;
            }
            console.log('After password confirmation');

            // Validate checkbox
            console.log('Before checkbox validation');
            if (!checkbox) {
                showError('Please agree to the terms & policy');
                event.preventDefault();
                return;
            }
            console.log('After checkbox validation');

            // Clear any previous error messages
            clearErrors();
        });

        function showError(message) {
            // Display error message
            var errorContainer = document.getElementById('error-container');
            errorContainer.textContent = message;
        }

        function clearErrors() {
            // Clear error messages
            var errorContainer = document.getElementById('error-container');
            errorContainer.textContent = '';
        }
    });
</script> -->


 





{% endblock %}